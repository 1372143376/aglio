!!!

include _bootstrap-mixins.jade

html
    head
        meta(charset="utf-8")
        block bootstrap-theme
            link(rel="stylesheet", href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css")
        link(rel="stylesheet", href="http://netdna.bootstrapcdn.com/font-awesome/4.0.2/css/font-awesome.min.css")
        block styles
            link(rel="stylesheet", href="http://fonts.googleapis.com/css?family=Roboto:400,700|Inconsolata|Raleway:200")
            style.
                /* Highlight.js Theme */
                .tomorrow-comment,pre .comment,pre .title{color:#8e908c}.tomorrow-red,pre .attribute,pre .css .class,pre .css .id,pre .css .pseudo,pre .html .doctype,pre .regexp,pre .ruby .constant,pre .tag,pre .variable,pre .xml .doctype,pre .xml .pi,pre .xml .tag .title{color:#c82829}.tomorrow-orange,pre .built_in,pre .constant,pre .literal,pre .number,pre .params,pre .preprocessor{color:#f5871f}.tomorrow-yellow,pre .class,pre .css .rules .attribute,pre .ruby .class .title{color:#eab700}.tomorrow-green,pre .header,pre .inheritance,pre .ruby .symbol,pre .string,pre .value,pre .xml .cdata{color:#718c00}.tomorrow-aqua,pre .css .hexcolor{color:#3e999f}.tomorrow-blue,pre .coffeescript .title,pre .function,pre .javascript .title,pre .perl .sub,pre .python .decorator,pre .python .title,pre .ruby .function .title,pre .ruby .title .keyword{color:#4271ae}.tomorrow-purple,pre .javascript .function,pre .keyword{color:#8959a8}pre code{display:block;background:#fff;color:#4d4d4c;font-family:Menlo,Monaco,Consolas,monospace;line-height:1.5;border:1px solid #ccc;padding:10px}
            :stylus
                body, h4, h5
                    font-family 'Roboto' sans-serif !important

                h1, h2, h3, .aglio
                    font-family 'Raleway' sans-serif !important

                h1, h2, h3, h4, h5
                    & a
                        display none

                    &:hover a
                        display inline

                code
                    color #444
                    background-color #ddd
                    font-family 'Inconsolata' monospace !important

                a[data-target]
                    cursor pointer

                h4
                    font-size 100%
                    font-weight bold
                    text-transform uppercase

                .back-to-top
                    position fixed
                    z-index 1
                    bottom 0px
                    right 24px
                    padding 4px 8px
                    background-color #eee
                    text-decoration none !important
                    border-top 1px solid rgba(0, 0, 0, 0.1)
                    border-left 1px solid rgba(0, 0, 0, 0.1)
                    border-right 1px solid rgba(0, 0, 0, 0.1)
                    border-top-left-radius 3px
                    border-top-right-radius 3px

                .panel
                    overflow hidden

                .panel-heading
                    code
                        color #c7254e
                        background-color transparent
                    h3
                        margin-top 10px
                        margin-bottom 10px

                a.list-group-item
                    white-space nowrap
                    text-overflow ellipsis
                    overflow hidden

                    &.heading
                        background-color #f5f5f5

                .list-group-item.collapse
                    display none
    body
        a.text-muted.back-to-top(href='#top')
            i.fa.fa-toggle-up
            | &nbsp;Back to top
        .container
            .row
                nav#nav.col-md-3.collapse.hidden-sm.hidden-xs(style="margin-top: 38px;")
                    each resourceGroup in api.resourceGroups
                        .list-group
                            a.list-group-item.heading(href="##{slug(resourceGroup.name)}")
                                = resourceGroup.name || 'Resource Group'
                            each resource in resourceGroup.resources
                                if resource.actions.length != 1
                                    a.list-group-item(href="##{slug(resourceGroup.name)}-#{slug(resource.name)}")
                                        i.fa.fa-bars
                                        | &nbsp;
                                        = resource.name || 'Resource'
                                    each action in resource.actions
                                        a.list-group-item(href="##{slug(resourceGroup.name)}-#{slug(resource.name)}-#{slug(action.method)}", style="padding-left: 32px")
                                            +Icon(action.method)
                                            | &nbsp;
                                            = action.name || action.method + ' ' + resource.uriTemplate
                                else
                                    a.list-group-item(href="##{slug(resourceGroup.name)}-#{slug(resource.name)}")
                                        - var action = resource.actions[0]
                                        +Icon(action.method)
                                        | &nbsp;
                                        = resource.name || action.name || action.method + ' ' + resource.uriTemplate
                    if api.metadata && api.metadata.HOST
                        p(style="text-align: center")
                            a(href=api.metadata.HOST.value)= api.metadata.HOST.value

                .col-md-9
                    header
                        .page-header
                            h1#top= api.name || 'API Documentation'
                
                    .description!= markdown(api.description)

                    block content
                        each resourceGroup in api.resourceGroups
                            +ResourceGroup(resourceGroup, 'primary')

        p.text-muted(style="text-align: center;")
            | Generated by 
            a.aglio(href="http://github.com/danielgtaylor/aglio") aglio
            |  on #{date().format('DD MMM YYYY')}


    script(src="http://code.jquery.com/jquery-1.10.1.min.js")
    script(src="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js")
    block scripts
        :coffee
            $('table').addClass 'table'
